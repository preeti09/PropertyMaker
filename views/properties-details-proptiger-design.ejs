<% include header %>
<div class="clearfix innerfirst"></div>
<div class="container bredcrumb-area">
    <ul class="list-inline bredcrumb text-right content-area">
        <li><a href="/">Home</a> / </li>
        <li><a href="#">Property search</a></li>
    </ul>
</div>

<div class="container">
    <div class="ta-r">
        <div data-type="reset-btn" class="resetBtn">
            <span class="fa fa-refresh"></span><span> reset</span>
        </div>
    </div>
    <div id="filter-section" class="filters-wrap row">
        <div class="filter-tab">
            <span class="selected-val js-label js-filter-btn"><span class="flaticon-bed left-icon"></span><span class="txt">property type</span><span class="lnr lnr-chevron-down arrow-dir"></span></span>
            <ul class="dd js-dd">
            <li>
                <div class="checkbox">
                    <input id="check01" type="checkbox" data-val="1">
                    <label for="check01">1 BHK</label>
                </div>
            </li>
            <li>
                <div class="checkbox">
                    <input id="check02" type="checkbox" data-val="2">
                    <label for="check02">2 BHK</label>
                </div>
            </li>
            <li>
                <div class="checkbox">
                    <input id="check03" type="checkbox" data-val="3">
                    <label for="check03">3 BHK</label>
                </div>
            </li>
            <li>
                <div class="checkbox">
                    <input id="check04" type="checkbox" data-val="4">
                    <label for="check04">4 BHK</label>
                </div>
            </li>
            <li>
                <div class="checkbox">
                    <input id="check05" type="checkbox" data-val="5,6,7,8,9">
                    <label for="check05">5+ BHK</label>
                </div>
            </li>
            </ul>
        </div>
        <div class="filter-tab budget-tab">
            <span class="selected-val js-filter-btn"><span class="fa fa-rupee left-icon"></span><span class="txt">Budget</span><span class="lnr lnr-chevron-down arrow-dir"></span></span>
            <div class="parameter-dropdown dd js-dd">
                <div class="min-parameter">
                <div class="inputwrap">
                    <input type="text" placeholder="Minimum" value="" data-value="" data-name="budget" data-type="range-input-min" class="margin-5">
                </div>
                <ul class="min-dropdown range-toggle-in">
                    <li data-value="0"><span>₹</span> 0 L</li>
                    <li data-value="500000"><span>₹</span> 5 L</li>
                    <li data-value="1000000"><span>₹</span> 10 L</li>
                    <li data-value="2000000"><span>₹</span> 20 L</li>
                    <li data-value="3000000"><span>₹</span> 30 L</li>
                    <li data-value="4000000"><span>₹</span> 40 L</li>
                    <li data-value="5000000"><span>₹</span> 50 L</li>
                    <li data-value="6000000"><span>₹</span> 60 L</li>
                    <li data-value="7000000"><span>₹</span> 70 L</li>
                    <li data-value="8000000"><span>₹</span> 80 L</li>
                    <li data-value="9000000"><span>₹</span> 90 L</li>
                    <li data-value="10000000"><span>₹</span> 1 Cr</li>
                    <li data-value="15000000"><span>₹</span> 1.5 Cr</li>
                    <li data-value="20000000"><span>₹</span> 2 Cr</li>
                    <li data-value="25000000"><span>₹</span> 2.5 Cr</li>
                    <li data-value="30000000"><span>₹</span> 3 Cr</li>
                    <li data-value="40000000"><span>₹</span> 4 Cr</li>
                    <li data-value="50000000"><span>₹</span> 5 Cr</li>
                    <li data-value="60000000"><span>₹</span> 6 Cr</li>
                    <li data-value="80000000"><span>₹</span> 8 Cr</li>
                    <li data-value="100000000"><span>₹</span> 10 Cr</li>
                </ul>
                </div>
                <div class="max-parameter">
                <div class="inputwrap">
                    <input type="text" placeholder="Maximum" value="" data-value="" data-name="budget" data-type="range-input-max" class="max">
                </div>
                <ul class="max-dropdown  range-toggle-in hide">
                    <li data-value="500000"><span>₹</span> 5 L</li>
                    <li data-value="1000000"><span>₹</span> 10 L</li>
                    <li data-value="2000000"><span>₹</span> 20 L</li>
                    <li data-value="3000000"><span>₹</span> 30 L</li>
                    <li data-value="4000000"><span>₹</span> 40 L</li>
                    <li data-value="5000000"><span>₹</span> 50 L</li>
                    <li data-value="6000000"><span>₹</span> 60 L</li>
                    <li data-value="7000000"><span>₹</span> 70 L</li>
                    <li data-value="8000000"><span>₹</span> 80 L</li>
                    <li data-value="9000000"><span>₹</span> 90 L</li>
                    <li data-value="10000000"><span>₹</span> 1 Cr</li>
                    <li data-value="15000000"><span>₹</span> 1.5 Cr</li>
                    <li data-value="20000000"><span>₹</span> 2 Cr</li>
                    <li data-value="25000000"><span>₹</span> 2.5 Cr</li>
                    <li data-value="30000000"><span>₹</span> 3 Cr</li>
                    <li data-value="40000000"><span>₹</span> 4 Cr</li>
                    <li data-value="50000000"><span>₹</span> 5 Cr</li>
                    <li data-value="60000000"><span>₹</span> 6 Cr</li>
                    <li data-value="80000000"><span>₹</span> 8 Cr</li>
                    <li data-value="100000000"><span>₹</span> 10 Cr</li>
                    <li data-value="">Any</li>
                </ul>
                </div>
            </div>
        </div>
        <div class="filter-tab filter-completionDate">
            <span class="selected-val js-label js-filter-btn">
            <span class="flaticon-symbol-1 left-icon"></span>  
            <span class="txt">Possession within</span><span class="lnr lnr-chevron-down arrow-dir"></span></span>
            <ul class="dd js-dd">
                <li>
                <div class="radio-btn">
                    <input id="radio01" type="radio" name="completionDate" data-val="90" class="radio" placeholder="">
                    <label>3 months</label> 
                </div>
                </li>
                <li>
                <div class="radio-btn">
                    <input id="radio01" type="radio" name="completionDate" data-val="90" class="radio" placeholder="">
                    <label>6 months</label> 
                </div>
                </li>
                <li>
                <div class="radio-btn">
                    <input id="radio01" type="radio" name="completionDate" data-val="90" class="radio" placeholder="">
                    <label>1 yr</label> 
                </div>
                </li>
                <li>
                <div class="radio-btn">
                    <input id="radio01" type="radio" name="completionDate" data-val="90" class="radio" placeholder="">
                    <label>2+ yrs</label> 
                </div>
                </li>
            </ul>
        </div>
        <div class="filter-tab filter-listing-type more-inner-col">
            <span class="selected-val js-label js-filter-btn">
            <span class="glyphicon glyphicon-check left-icon"></span>
            <span class="txt">Availability</span>
            <span class="lnr lnr-chevron-down arrow-dir"></span>
        </span>
            <ul class="dd js-dd">
                <li>
                <div class="checkbox">
                    <input id="check51" type="checkbox" data-val="new">
                    <label for="check51">1 New</label>
                </div>
                </li>
                <li>
                <div class="checkbox">
                    <input id="check52" type="checkbox" data-val="Resale">
                    <label for="check52">Resale</label>
                </div>
                </li>
            </ul>
        </div>
        <div class="filter-tab filter-more">
            <span class="selected-val js-filter-btn">
            <span class="glyphicon glyphicon-filter left-icon"></span>
            <span class="txt">More Filters</span>
            <span class="lnr lnr-chevron-down arrow-dir"></span>
            </span>
            <div class="dd more-dd js-dd w4col">
                <div class="filter-project-status more-inner-col w4col">
                <span class="selected-val">Project Status</span>
                <div class="project-status-btn inner-row">
                    <div class="checkbox">
                        <input id="check11" type="checkbox" data-val="LaunchingSoon">
                        <label for="check11">Launching Soon</label>
                    </div>
                </div>
                <div class="project-status-btn inner-row">
                    <div class="checkbox">
                        <input id="check12" type="checkbox" data-val="NewLaunc">
                        <label for="check12">New Launc</label>
                    </div>
                </div>
                <div class="project-status-btn inner-row">
                    <div class="checkbox">
                        <input id="check13" type="checkbox" data-val="UnderConstruction">
                        <label for="check13">Under Construction</label>
                    </div>
                </div>
                <div class="project-status-btn inner-row">
                    <div class="checkbox">
                        <input id="check14" type="checkbox" data-val="ReadytoMoveIn">
                        <label for="check14">Ready to Move In</label>
                    </div>

                </div>
                </div>
                <div class="filter-property-type more-inner-col w4col">
                <span class="selected-val">Property Type</span>
                <div class="property-type-btn inner-row">
                    <div class="checkbox">
                        <input id="check21" type="checkbox" data-val="Apartments">
                        <label for="check21">Apartments</label>
                    </div>
                </div>
                <div class="property-type-btn inner-row">
                    <div class="checkbox">
                        <input id="check22" type="checkbox" data-val="Villa">
                        <label for="check22">Villa</label>
                    </div>
                </div>
                <div class="property-type-btn inner-row">
                    <div class="checkbox">
                        <input id="check23" type="checkbox" data-val="Plot">
                        <label for="check23">Plot</label>
                    </div>
                </div>
                </div>
                <div class="filter-baths more-inner-col w4col">
                <span class="selected-val">Bathrooms</span>
                <div class="ud multi-select">
                    <div class="inner-row">
                        <div class="checkbox">
                            <input id="check41" type="checkbox" data-val="1">
                            <label for="check41">1</label>
                        </div>
                    </div>
                    <div class="inner-row">
                        <div class="checkbox">
                            <input id="check42" type="checkbox" data-val="2">
                            <label for="check42">2</label>
                        </div>
                    </div>
                    <div class="inner-row">
                        <div class="checkbox">
                            <input id="check43" type="checkbox" data-val="3,4,5">
                            <label for="check43">3+</label>
                        </div>
                    </div>
                </div>
                </div>
                <div class="filter-size more-inner-col js-size-filter w4col">
                <span class="selected-val">Area (sqft)</span>
                <div class="parameter-dropdown dd">
                    <div class="min-parameter">
                        <div class="inputwrap"><input type="text" placeholder="Minimum" value="" data-value="" data-name="budget" data-type="range-input-min" class="margin-5"></div>
                        <ul class="min-dropdown range-toggle-in">
                            <li data-value="0">&lt;250 sq ft</li>
                            <li data-value="250">250 sq ft</li>
                            <li data-value="500">500 sq ft</li>
                            <li data-value="1000">1000 sq ft</li>
                            <li data-value="1500">1500 sq ft</li>
                            <li data-value="2000">2000 sq ft</li>
                            <li data-value="2500">2500 sq ft</li>
                            <li data-value="3000">3000 sq ft</li>
                            <li data-value="3500">3500 sq ft</li>
                            <li data-value="4500">4500 sq ft</li>
                            <li data-value="6000">6000 sq ft</li>
                        </ul>
                    </div>
                    <div class="max-parameter">
                        <div class="inputwrap"><input type="text" placeholder="Maximum" value="" data-value="" data-name="budget" data-type="range-input-max" class="max"></div>
                        <ul class="max-dropdown range-toggle-in hide">
                            <li data-value="250">250 sq ft</li>
                            <li data-value="500">500 sq ft</li>
                            <li data-value="1000">1000 sq ft</li>
                            <li data-value="1500">1500 sq ft</li>
                            <li data-value="2000">2000 sq ft</li>
                            <li data-value="2500">2500 sq ft</li>
                            <li data-value="3000">3000 sq ft</li>
                            <li data-value="3500">3500 sq ft</li>
                            <li data-value="4500">4500 sq ft</li>
                            <li data-value="6000">6000 sq ft</li>
                            <li data-value="">&gt;6000 sq ft</li>
                        </ul>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>
<section class="filter-content">
    <div class="container toggle-header">
        <div>
            <div id="msg">0 Residential Properties found</div>
            <ul class="nav navbar-nav navbar-right activeClass display-toggle">
                <!-- <li class="mapview-sortopt"><span>Sort by</span></li> -->
                
                <li><a data-displaytoggle="grid-opt" href="#" class="fa fa-th toggle"></a></li>
                <li><a data-displaytoggle="list-opt" href="#" class="lnr lnr-list list-view toggle"></a></li>
                <li><a data-displaytoggle="map-opt" href="#" class="fa fa-map-o toggle"></a></li>
                <li class="active"><a data-displaytoggle="b-list-opt" href="#" class="lnr lnr-chevron-down-circle toggle"></a></li>
            </ul>
        </div>
    </div>
    <hr>
    <div class="container">
        <div class="sort-options">
            <div class="label">Sort by :</div>
            <ul class="footer-list-view">
                <li class="active"><a data-value="sort-by-relevance" data-type="sort" class="no-ajaxy">Relevance</a></li>
                <li><a data-value="price-low-to-high" data-type="sort" class="no-ajaxy">Price: Low</a></li>
                <li><a data-value="price-high-to-low" data-type="sort" class="no-ajaxy">Price: High</a></li>
                <li><a data-value="possession-date-recent-on-top" data-type="sort" class="no-ajaxy">Possession Date</a></li>
            </ul>
        </div>
    </div>
    <div class="featured-properties">
        <div class="container">
            <div class="row">
                <div class="map">
                    <div id="map" class="contact-map"></div>
                </div>

                <div class="filtr-container">
                    <% 
                    var recommemdedTab = 0;
                    if(typeof propertyResult != 'undefined'){
                    for(var i=0; i < propertyResult.length; i++){   
                        
                <!--           var ImageGallery = GalleryImage[propertyResult[i].ID] ? GalleryImage[propertyResult[i].ID] : ['https://avenueproperty.s3.ap-south-1.amazonaws.com/images/1529576338069']; -->
                var filterImages = [];
                if(GalleryImage[propertyResult[i].ID]){
                var filterImages = GalleryImage[propertyResult[i].ID].filter(v => v != '');
                }
                
                        var ImageGallery = (filterImages.length) ? filterImages :(propertyResult[i].PropertyTypeID == 1 ? ['/img/Plots.png'] : (propertyResult[i].PropertyTypeID == 2  ? ['/img/Residential.png']:['/img/AgriLands.png'])) ;
                        
                        if(propertyResult[i].VideoGallery){
                            var VideoGallery = propertyResult[i].VideoGallery.split(',');
                        }
                        if(propertyResult[i].VideoURL){
                            var VideoURL = propertyResult[i].VideoURL.split(',');
                        }
                        var filter = '1';
                        if(recommemdedIds.includes(propertyResult[i].ID) ){
                            filter = '2';
                            recommemdedTab = 2;
                        }
                        var TotalPrice = [];
                        var Extent = [];
                        var NumberofBeds = [];
                        var NumberofBath = [];
                        var SuperBuiltUpArea =[];
                        var unitDetailsData = UnitTableData[propertyResult[i].ID];
                        var UnitData = [];
                        
                        if(typeof UnitTableData[propertyResult[i].ID] == 'object' && UnitTableData.length > 0){
                            for(var u = 0; u < UnitTableData[propertyResult[i].ID].length; u++){
                                if(propertyResult[i].ID == UnitTableData[propertyResult[i].ID][u].PropertyID ){
                                    UnitData.push(UnitTableData[propertyResult[i].ID][u]);
                                    if(UnitTableData[propertyResult[i].ID][u].NumberofBeds){
                                        NumberofBeds.push(UnitTableData[propertyResult[i].ID][u].NumberofBeds); 
                                    }
                                    if(UnitTableData[propertyResult[i].ID][u].NumberofBath){
                                        NumberofBath.push(UnitTableData[propertyResult[i].ID][u].NumberofBath); 
                                    }
                                    if(UnitTableData[propertyResult[i].ID][u].UnitExtent){
                                        TotalPrice.push(parseInt(UnitTableData[propertyResult[i].ID][u].UnitExtent) * parseInt(propertyResult[i].SearchPrice));
                                        Extent.push(parseFloat(UnitTableData[propertyResult[i].ID][u].UnitExtent));
                                    }else
                                    if(UnitTableData[propertyResult[i].ID][u].SuperBuiltUpArea){
                                        TotalPrice.push(parseInt(UnitTableData[propertyResult[i].ID][u].SuperBuiltUpArea) * parseInt(propertyResult[i].SearchPrice));  
                                        Extent.push(parseFloat(UnitTableData[propertyResult[i].ID][u].SuperBuiltUpArea));
                                    }
                                    else if(propertyResult[i].Extent || propertyResult[i].TotalPrice){
                                        if(propertyResult[i].TotalPrice){
                                        TotalPrice.push(parseFloat(propertyResult[i].Extent) * parseInt(propertyResult[i].SearchPrice)); 
                                        }
                                        if(propertyResult[i].Extent){
                                        Extent.push(parseFloat(propertyResult[i].Extent));  
                                        }
                                    }
                                }
                            }
                        }else{
                            TotalPrice.push(parseFloat(propertyResult[i].Extent) * parseInt(propertyResult[i].SearchPrice));
                            Extent.push(parseFloat(propertyResult[i].Extent));
                        }
                        propertyResult[i].unitDetails= UnitData;
                    %>
                    
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12  filtr-item b-list-opt"
                        data-category="<%= filter %>">
                        <div class="property">
                            <!-- Property img -->
                            <div class="property-img">
                                <% 
                                    var Active = '';
                                    if(favoriteData.length > 0){
                                    if(favoriteData.includes(propertyResult[i].ID))
                                    Active = 'active'; 
                                    }
                                %>
                                <div class="property-tag alt featured <%= Active %>" id="myfavorite<%= i %>">
                                    <a href="javascript:void(0);"
                                        onclick="saveAsFavorite('<%= sess_val %>',<%= propertyResult[i].ID %>,<%= i %>);"><i
                                            class="fa fa-heart" aria-hidden="true"></i></a>
                                </div>
                                <!--<div class="property-tag sale">TRENDING</div>  -->
                                <% if(propertyResult[i].DisplayPrice){ %>
                                <div class="property-price">
                                    <%= propertyResult[i].Title.substring(0,17) %><% if(propertyResult[i].Title.length > 17 ){ %>...<% } %>
                                    <% if(Math.min(...TotalPrice) == Math.max(...TotalPrice)){ 
                                        propertyResult[i].viewPrice = currencyFormat(Math.max(...TotalPrice));
                                        %>
                                    <div>&#8377; <%= currencyFormat(Math.min(...TotalPrice)) %>
                                        <h5 class="p-color mt-0 mb-0">
                                            <%= currencyFormat (propertyResult[i].SearchPrice) %>/<%= UnitIdentifier %>
                                        </h5>
                                    </div>
                                    <% }else{ 
                                        propertyResult[i].viewPrice = currencyFormat(Math.min(...TotalPrice)) + ' - ' +currencyFormat(Math.max(...TotalPrice));
                                    %>
                                    <div>&#8377; <%= currencyFormat(Math.min(...TotalPrice)) %> -
                                        <%= currencyFormat(Math.max(...TotalPrice)) %>
                                        <h5 class="p-color mt-0 mb-0">
                                            <%= currencyFormat(propertyResult[i].SearchPrice)%>/<%= UnitIdentifier %>
                                        </h5>
                                    </div>
                                    <% } %>
                                </div>
                                <% } else { %>
                                <div class="property-price">
                                    <%= propertyResult[i].Title.substring(0,17) %><% if(propertyResult[i].Title.length > 17 ){ %>...<% } %>
                                    <div>Price On Request</div>
                                </div>
                                <% } %>
                                <!-- Facilities List -->
                                <ul class="facilities-list clearfix">
                                    <li>
                                        <% if(Extent && Extent.length > 0){ %>
                                        <img src="/img/extent.jpg" width="14" ,height="16" style="margin-top:-4px"
                                            title="Extent">
                                        <span>
                                            <% if(Math.min(...Extent) == Math.max(...Extent)){ %>
                                            <%= Math.min(...Extent) %> <%= propertyResult[i].UnitIdentifier%>
                                            <% }else{ %>
                                            <%= Math.min(...Extent) %> -
                                            <%= Math.max(...Extent) %><%= propertyResult[i].UnitIdentifier%>
                                            <% } %>
                                        </span>
                                        <% } %>
                                        <% var facing = ''; if(propertyResult[i].East ||propertyResult[i].West || propertyResult[i].North || propertyResult[i].South) {  %>
                                        <img src="/img/facing.jpg" width="14" ,height="16" style="margin-top:-4px"
                                            title="Facing">
                                        <% if(propertyResult[i].East){
                                            facing += 'E'
                                            } 
                                            if(propertyResult[i].West){ 
                                            if(facing){
                                                facing += ' | '
                                            } 
                                            facing += 'W'
                                            } if(propertyResult[i].North){
                                            if(facing){
                                                facing += ' | '
                                            }
                                            facing += 'N';
                                            
                                            } if(propertyResult[i].South){
                                            if(facing){
                                                facing += ' | '
                                            }
                                            facing += 'S';
                                            } %>
                                        <span><%= facing %></span>
                                        <% } %>
                                    </li>
                                    <% if(NumberofBeds.length > 0 ){ %>
                                    <li>
                                        <i class="fa fa-bed" title="Number of beds"></i>
                                        <% if(Math.min(...NumberofBeds) == Math.max(...NumberofBeds)){ %>
                                        <span><%= Math.min(...NumberofBeds) %> </span>
                                        <% }else{ %>
                                        <span><%= Math.min(...NumberofBeds) %>-<%= Math.max(...NumberofBeds) %> </span>
                                        <% } %>
                                    </li>
                                    <% }if(NumberofBath.length > 0){ %>
                                    <li>
                                        <i class="flaticon-holidays" title="Number of baths"></i>
                                        <% if(Math.min(...NumberofBath) == Math.max(...NumberofBath)){ %>
                                        <span><%= Math.min(...NumberofBath) %> </span>
                                        <% }else{ %>
                                        <span><%= Math.min(...NumberofBath) %>-<%= Math.max(...NumberofBath) %> </span>
                                        <% } %>
                                    </li>
                                    <% } %>
                                </ul>
                                <ul class="facilities-list clearfix viewlistdata">
                                    <% if(ImageGallery){ %>
                                    <li>
                                        <i class="lnr lnr-camera"></i>
                                        <span><%= ImageGallery.length %></span>
                                    </li>
                                    <% }if(VideoGallery || VideoURL){ 
                                        var totalVideos = 0;
                                        if(VideoGallery){
                                            totalVideos += VideoGallery.length
                                        }if(VideoURL){
                                            totalVideos += VideoURL.length
                                        }
                                        %>
                                    <%if(totalVideos > 0){%>
                                    <li>
                                        <i class="lnr lnr-camera-video"></i>
                                        <span><%= totalVideos %></span>
                                    </li>
                                    <% } }%>
                                </ul>
                                <img src="<%= ImageGallery[0] %>" alt="fp" class="img-responsive">
                                <div class="property-overlay">
                                    <a href="<%= propertyResult[i].URL %>" class="overlay-link" target="_blank">
                                        <i class="fa fa-link"></i>
                                    </a>
                                    <% if(propertyResult[i].VideoURL || propertyResult[i].VideoGallery) { %>
                                    <a class="overlay-link property-video" title="<%= propertyResult[i].Title %>"
                                        onclick="videoModal('Video','<%= (propertyResult[i].VideoURL)%>','<%= propertyResult[i].VideoGallery %>','<%= ImageGallery %>',<%= YouTubeGetID %>,<%= i %>);">
                                        <i class="fa fa-video-camera"></i>
                                    </a>
                                    <% } %>
                                    <% for(var j =0 ; j < ImageGallery.length  ;j++){
                                        if(j == 0){ %>
                                    <a class="overlay-link property-video" title="<%= propertyResult[i].Title %>"
                                        onclick="videoModal('Images','<%= (propertyResult[i].VideoURL)%>','<%= propertyResult[i].VideoGallery %>','<%= ImageGallery %>',<%= YouTubeGetID %>,<%= j %>);">
                                        <i class="fa fa-expand"></i>
                                    </a>
                                    <% } }  %>
                                </div>
                            </div>
                            <!-- Property content -->
                            <div class="property-content">
                                <!-- title -->
                                <div class="col-md-7 col-sm-6 col-xs-12 cont-item cont-item1">
                                    <h3 class="title">
                                        <input type="hidden" id="newnew" name="result[]"
                                            value="<%= propertyResultStr %>">
                                        <a href="javascript:void(0);"
                                            onclick="propertyInfowindow(<%= JSON.stringify(propertyResult[i].ID) %>,<%= JSON.stringify(propertyResult[i].URL) %>)"
                                            title="<%= propertyResult[i].Title %>"><%= propertyResult[i].Title.substring(0,22) %><% if(propertyResult[i].Title.length > 22 ){ %>...<% } %></a>
                                        <!-- <a href="/single-property/<%= propertyResult[i].ID %>" title="<%= propertyResult[i].Title %>"><%= propertyResult[i].Title.substring(0,25) %></a> -->
                                        <span class="titleheart <%= Active %>" id="myfavorite_<%= i %>">
                                            <a href="javascript:void(0);"
                                                onclick="saveAsFavorite('<%= sess_val %>',<%= propertyResult[i].ID %>,<%= i %>);"><i
                                                    class="fa fa-heart" aria-hidden="true"></i></a>
                                        </span>
                                    </h3>
                                    <!-- Property address -->
                                    <h4 class="property-address">
                                        <a href="#">
                                            <i class="lnr lnr-map-marker"></i><%= propertyResult[i].Area %><%if(propertyResult[i].Area){%>,
                                            <% } %>
                                            <%= propertyResult[i].city %>
                                        </a>
                                    </h4>
                                </div>
                                <div class="col-md-7 col-sm-6 col-xs-12 cont-item cont-item2">
                                    <% if(propertyResult[i].ProjectStatusID){ %>
                                    <h5><%= PropertyStatus[propertyResult[i].ProjectStatusID]%></h5>
                                    <% } %>
                                    <ul class="facilities-list clearfix">
                                        <li>
                                            <% if(Extent && Extent.length > 0){ %>
                                            <img src="/img/extent.jpg" width="14" ,height="16" style="margin-top:-4px"
                                                title="Extent">
                                            <span>
                                                <% if(Math.min(...Extent) == Math.max(...Extent)){ %>
                                                <%= Math.min(...Extent) %>
                                                <%= propertyResult[i].UnitIdentifier%>
                                                <% }else{ %>
                                                <%= Math.min(...Extent) %> - <%= Math.max(...Extent) %>
                                                <%= propertyResult[i].UnitIdentifier%>
                                                <% } %>
                                            </span>
                                            <% } %>
                                            <% if(facing){ %>
                                            <img src="/img/facing.jpg" width="14" ,height="16" style="margin-top:-4px"
                                                title="Facing">
                                            <span> <%= facing %></span>
                                            <% } %>
                                        </li>
                                        <% if(NumberofBeds.length > 0){ %>
                                        <li>
                                            <i class="fa fa-bed" title="Number of beds"></i>
                                            <% if(Math.min(...NumberofBeds) == Math.max(...NumberofBeds)){ %>
                                            <span><%= Math.min(...NumberofBeds) %> </span>
                                            <% }else{ %>
                                            <span><%= Math.min(...NumberofBeds) %>-<%= Math.max(...NumberofBeds) %>
                                            </span>
                                            <% } %>
                                        </li>
                                        <% }if(NumberofBath.length > 0){ %>
                                        <li>
                                            <i class="flaticon-holidays" title="Number of baths"></i>
                                            <% if(Math.min(...NumberofBath) == Math.max(...NumberofBath)){ %>
                                            <span><%= Math.min(...NumberofBath) %> </span>
                                            <% }else{ %>
                                            <span><%= Math.min(...NumberofBath) %>-<%= Math.max(...NumberofBath) %>
                                            </span>
                                            <% } %>
                                        </li>
                                        <% } %>
                                    </ul>
                                </div>
                                
                                <div class="col-md-5 col-sm-6 col-xs-12 cont-item cont-item3">
                                    <% if(propertyResult[i] && propertyResult[i] .DisplayPrice){ %>
                                    <div class="property-price">
                                        <% if(Math.min(...TotalPrice) == Math.max(...TotalPrice)){ 
                                            propertyResult[i].viewPrice = currencyFormat(Math.max(...TotalPrice));    
                                        %>
                                        <div>&#8377; <%= currencyFormat(Math.min(...TotalPrice)) %>
                                            <h5 class="p-color mt-0 mb-0">
                                                <%= currencyFormat(propertyResult[i].SearchPrice) %>/<%= UnitIdentifier %>
                                            </h5>
                                        </div>
                                        <% }else{ 
                                            propertyResult[i].viewPrice = currencyFormat(Math.min(...TotalPrice))+ ' - ' + currencyFormat(Math.max(...TotalPrice));
                                        %>
                                        <div>&#8377; <%= currencyFormat(Math.min(...TotalPrice)) %> -
                                            <%= currencyFormat(Math.max(...TotalPrice)) %>
                                            <h5 class="p-color mt-0 mb-0">
                                                <%=currencyFormat(propertyResult[i].SearchPrice)%>/<%= UnitIdentifier %>
                                            </h5>
                                        </div>
                                        <% } %>
                                    </div>
                                    <% } else { %>
                                    <div class="property-price">
                                        Price On Request
                                    </div>
                                    <% } %>
                                </div>
                                <div class="col-sm-5 col-xs-12 cont-item cont-item4">
                                    <% if(propertyResult[i].DisplayPrice){ %>
                                    <div class="property-price mapshowprice" style="display:none;">
                                        <% if(Math.min(...TotalPrice) == Math.max(...TotalPrice)){ 
                                                propertyResult[i].viewPrice = currencyFormat(Math.max(...TotalPrice));    
                                            %>
                                        <div>&#8377;<%= currencyFormat(Math.min(...TotalPrice)) %>
                                        </div>
                                        <% }else{ 
                                                propertyResult[i].viewPrice = currencyFormat(Math.min(...TotalPrice))+ ' - ' + currencyFormat(Math.max(...TotalPrice));
                                            %>
                                        <div>&#8377; ><%= currencyFormat(Math.min(...TotalPrice)) %> -
                                            <%= currencyFormat(Math.max(...TotalPrice)) %>
                                        </div>
                                        <% } %>
                                    </div>
                                    <% } else { %>
                                    <div class="property-price mapshowprice" style="display:none;">
                                        Price On Request
                                    </div>
                                    <% } %>
                                    <a href="javascript:void(0);" id="Iam" class="button transparent"
                                        onclick='iAm_Interested(<%= JSON.stringify(propertyResult[i]) %>)'>I am
                                        Interested</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% } } %>
                </div>

            </div>
        </div>
    </div>
</section>

    
    <!-- Featured properties end -->
</section>
<!-- Car Video Modal end-->
<div class="modal photo-swipe property-modal fade" id="propertyModal" tabindex="-1" role="dialog" aria-labelledby="carModalLabel" aria-hidden="true">

</div>

<% include script %>
<% include footer %>
<section class="mob-filter-wrap js-mob-filter-wrap">
    <ul class="filter-nav">
        <li>
            <a onclick="$('.filterOverlayPopup').removeClass('hide');event.stopPropagation();" data-type="filter-btn" class="no-ajaxy filterBtn filter-btn">
                <span class="glyphicon glyphicon-filter left-icon"></span>
                <span class="txt">Filters</span>
            </a>
        </li>
        <li class="sort-order">
            <a onclick="$('.footer-list-view').toggleClass('hide');event.stopPropagation();" class="no-ajaxy filterBtn">
                <span class="glyphicon glyphicon-sort left-icon"></span>
                <span class="txt">Sort By: </span><span class="selected-sort-order txt">Relevance</span>
            </a>
            <ul class="dd-list footer-list-view hide">
                <li class="active"><a data-value="sort-by-relevance" data-type="sort" class="no-ajaxy">Relevance</a></li>
                <li><a data-value="price-low-to-high" data-type="sort" class="no-ajaxy">Price: Low</a></li>
                <li><a data-value="price-high-to-low" data-type="sort" class="no-ajaxy">Price: High</a></li>
                <li><a data-value="possession-date-recent-on-top" data-type="sort" class="no-ajaxy">Possession Date</a></li>
            </ul>
        </li>
        <li class="hide"><a class="no-ajaxy footerBtn hide">Save Search</a></li>
    </ul>
</section>

<div id="popup-container" class="filterOverlayPopup hide">
        <div class="popup-overlay"></div>
        <div id="page-popup-container">
           <div data-role="popup" class="filter-popup">
              <div class="filter-top-head disabled">
                 <div class="back-btn">
                     <span onclick="$('.filterOverlayPopup').addClass('hide');event.stopPropagation();"><i class="fa fa-close"></i>Filters</span><span style="opacity: 0;" class="total-filter-count-container">(<span class="total-filter-count">0</span>)</span></div>
                 <div data-type="reset-btn" class="reset-btn">Reset Filters</div>
              </div>
              <div class="filter-container">
                 <div class="filter-row filter-bedroom">
                    <span class="flaticon-bed left-icon"></span><span class="filter-name">Bedroom</span>
                    <ul class="multiple-selection">
                       <li><input id="check011" type="checkbox" data-val="1" placeholder=""><label for="check011">1</label></li>
                       <li><input id="check012" type="checkbox" data-val="2"><label for="check012">2</label></li>
                       <li><input id="check013" type="checkbox" data-val="3"><label for="check013">3</label></li>
                       <li><input id="check014" type="checkbox" data-val="4"><label for="check014">4</label></li>
                       <li><input id="check015" type="checkbox" data-val="5,6,7,8,9"><label for="check015">5+</label></li>
                    </ul>
                 </div>
                 <div class="filter-row budget-dropdown js-budget-range-slider">
                    <span class="fa fa-rupee left-icon"></span><span class="filter-name">Budget</span>
<div class="range-values"><span class="js-range-value-1">0 </span>&nbsp;&nbsp;-&nbsp;&nbsp;
<span class="js-range-value-2">20 Cr</span></div>
                                                <div class="range-slider">
                                <div data-min="1000000" data-max="200000000" data-unit="₹" data-min-name="budget_min" data-max-name="budget_max" class="range-slider-ui ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false"><span class="min-value">10 L</span> <span class="max-value">20 Cr</span><input class="current-min" type="hidden" name="budget_min" value="1000000"><input class="current-max" type="hidden" name="budget_max" value="200000000"><div class="ui-slider-range ui-widget-header ui-corner-all" style="left: 0%; width: 100%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="#" style="left: 0%;"></a><a class="ui-slider-handle ui-state-default ui-corner-all" href="#" style="left: 100%;"></a></div>
                                <div class="clearfix"></div>
                            </div>
                       
                    
                 </div>
                 <div class="filter-row filter-project-status">
                    <span class="glyphicon glyphicon-stats left-icon"></span><span class="filter-name">Project Status</span>
                    <ul class="multiple-selection text-selection">
                       <li><input id="check111" type="checkbox" data-val="launchingSoon"><label for="check111">Launching Soon</label></li>
                       <li><input id="check112" type="checkbox" data-val="newLaunch"><label for="check112">New Launch</label></li>
                       <li><input id="check113" type="checkbox" data-val="underConstruction"><label for="check113">Under Construction</label></li>
                       <li><input id="check114" type="checkbox" data-val="readyToMoveIn"><label for="check114">Ready to Move In</label></li>
                    </ul>
                 </div>
                 <div class="filter-row filter-property-type">
                    <span class="fa fa-calculator left-icon"></span><span class="filter-name">Property Type</span>
                    <ul class="multiple-selection muptiple-property-selection">
                       <li class="property-type-btn"><input id="check221" type="checkbox" data-val="Apartment"><label for="check221"><span>Apartments</span></label></li>
                       <li class="property-type-btn"><input id="check222" type="checkbox" data-val="Villa"><label for="check222"><span>Villa</span></label></li>
                       <li class="property-type-btn"><input id="check223" type="checkbox" data-val="Plot"><label for="check223"><span>Plots</span></label></li>
                    </ul>
                 </div>
                 <div class="filter-row filter-completionDate">
                    <span class="flaticon-symbol-1 left-icon"></span><span class="filter-name">Possession within</span>
                    <ul class="multiple-selection">
                       <li><input id="radio001" type="radio" name="completionDate" data-val="90"><label for="radio001">3 mo</label></li>
                       <li><input id="radio002" type="radio" name="completionDate" data-val="180"><label for="radio002">6 mo</label></li>
                       <li><input id="radio003" type="radio" name="completionDate" data-val="365"><label for="radio003">1 yr</label></li>
                       <li><input id="radio004" type="radio" name="completionDate" data-val="730"><label for="radio004">2+ yrs</label></li>
                    </ul>
                 </div>
                 <div class="filter-row filter-baths">
                    <span class="glyphicon flaticon-person-enjoying-jacuzzi-hot-water-bath left-icon"></span><span class="filter-name">Bathrooms</span>
                    <ul class="multiple-selection">
                       <li><input id="check41" type="checkbox" data-val="1"><label for="check41">1</label></li>
                       <li><input id="check42" type="checkbox" data-val="2"><label for="check42">2</label></li>
                       <li><input id="check43" type="checkbox" data-val="3,4,5"><label for="check43">3+</label></li>
                    </ul>
                 </div>
                 <div class="filter-row size-dropdown js-area-range-slider">
                    <span class="glyphicon glyphicon-resize-horizontal left-icon"></span><span class="filter-name">Size</span>
                    <div class="range-values"><span class="js-range-value-1">0</span>&nbsp;&nbsp;-&nbsp;&nbsp;
                       <span class="js-range-value-2">5000</span>
                    </div>
                    <div class="range-slider">
                                <div data-min="1000000" data-max="200000000" data-unit="₹" data-min-name="budget_min" data-max-name="budget_max" class="range-slider-ui ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false"><span class="min-value">10 L</span> <span class="max-value">20 Cr</span><input class="current-min" type="hidden" name="budget_min" value="1000000"><input class="current-max" type="hidden" name="budget_max" value="200000000"><div class="ui-slider-range ui-widget-header ui-corner-all" style="left: 0%; width: 100%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="#" style="left: 0%;"></a><a class="ui-slider-handle ui-state-default ui-corner-all" href="#" style="left: 100%;"></a></div>
                                <div class="clearfix"></div>
                            </div>
                 </div>
                 <div class="filter-row filter-listing-type">
                    <span class="glyphicon glyphicon-check left-icon"></span><span class="filter-name">Availability</span>
                    <ul class="multiple-selection">
                       <li class="listing-type-btn"><input id="check551" type="checkbox" data-val="new"><label for="check551">New</label></li>
                       <li class="listing-type-btn"><input id="check552" type="checkbox" data-val="resale"><label for="check552">Resale</label></li>
                    </ul>
                 </div>
              </div>
              <div class="filter-fixed-bottom ta-center"><a class="no-ajaxy btn apply-btn">Apply Filter</a></div>
           </div>
           <div data-role="popup" class="select-filter-popup locality-popup hide">
              <div class="select-filter-top-head"><button class="header-back-btn pull-left"><i class="icon-new-arrow-left"></i></button><label><span class="filter-count">0</span> Selected</label><button class="select-apply-btn">APPLY</button></div>
              <div class="select-filter-container">
                 <div class="select-search-info pt-row-container">
                    <input type="search" placeholder="Please enter a locality name" class="search">
                    <div class="typehead-wrap"></div>
                 </div>
                 <div class="select-clear-info pt-row-container"><label class="pull-left">Selected Localities</label><button class="pull-right btn btn-dark-gray clear-all-btn">Clear all</button></div>
                 <div class="select-add-info pt-row-container">
                    <div stype="display:none" class="default-text">Please select from above list and press "APPLY"</div>
                    <ul class="selected-list"></ul>
                 </div>
              </div>
           </div>
           <div data-role="popup" class="select-filter-popup builder-popup hide">
              <div class="select-filter-top-head"><button class="header-back-btn pull-left"><i class="icon-new-arrow-left"></i></button><label><span class="filter-count">0</span> Selected</label><button class="select-apply-btn">APPLY</button></div>
              <div class="select-filter-container">
                 <div class="select-search-info pt-row-container">
                    <input type="search" placeholder="Please enter a builder name" class="search">
                    <div class="typehead-wrap"></div>
                 </div>
                 <div class="select-clear-info pt-row-container"><label class="pull-left">Selected Builders</label><button class="pull-right btn btn-dark-gray clear-all-btn">Clear all</button></div>
                 <div class="select-add-info pt-row-container">
                    <ul class="selected-list"></ul>
                 </div>
              </div>
           </div>
           <section data-role="popup" class="map-static-popup-block hide">
              <div class="static-map">
                 <div class="tbar">
                    <div class="back-btn pull-left map-popup-back-btn"><i class="icon-new-arrow-left"></i></div>
                    <div class="ta-center">Proptiger Maps<br><small>A smarter way to explore</small></div>
                    <div class="clearfix"></div>
                 </div>
                 <div id="map-carousel" class="m-carousel m-fluid m-carousel-photos sm-tbar">
                    <div class="m-carousel-inner">
                       <div class="ta-center localinfo-map one m-item carouselFcc-0">
                          <div class="localinfo-icon"><i class="icon-new-location"></i></div>
                          <h3 class="white-color">Get Local</h3>
                          <p class="white-color">Check projects, get directions &amp; other local info</p>
                       </div>
                       <div class="ta-center localinfo-map two m-item carouselFcc-1">
                          <div class="localinfo-icon"><i class="icon-airport"></i></div>
                          <h3 class="white-color">Neighbourhood, connectivity &amp; more</h3>
                          <p class="white-color">Locate Schools, Restaurants, ATMs, Airport &amp; other facilities</p>
                       </div>
                       <div class="ta-center localinfo-map three m-item carouselFcc-2">
                          <div class="localinfo-icon"><i class="icon-heatmap"></i></div>
                          <h3 class="white-color">Heat Maps - Price &amp; Possession</h3>
                          <p class="white-color">Reduce search time to 50% through heat maps</p>
                       </div>
                    </div>
                    <div class="m-carousel-controls m-carousel-hud"><a href="#" data-slide="prev" class="no-ajaxy m-carousel-prev"><i class="icon-new-arrow-left"></i></a><a href="#" data-slide="next" class="no-ajaxy m-carousel-next"><i class="icon-new-arrow-right"></i></a></div>
                 </div>
                 <div class="aphone">
                    To explore properties on map &nbsp;<br>
                    <div class="marginT10"></div>
                    <a href="/responsive/app-download" rel="nofollow" class="no-ajaxy btn btn-warning marginT10 js-app-download">
                       <div><i class="icon-new-apple"></i><span>DOWNLOAD OUR iPhone APP</span></div>
                    </a>
                 </div>
              </div>
           </section>
        </div>
     </div>
<!-- <div class="modal property-modal fade" id="propertyModal" tabindex="-1" role="dialog" aria-labelledby="carModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </a>
                </div>
                <div class="modal-body">
                    <div class="row modal-raw">
                        <div class="col-lg-12 modal-left">
                            <div class="modal-left-content">
                                <div class="bs-example" data-example-id="carousel-with-captions">
                                    <div class="carousel slide" id="properties-carousel" data-ride="carousel">
                                        <div class="carousel-inner" role="listbox">
                                            <div class="item">
                                                <img src="http://placehold.it/450x300 " alt="best-properties">
                                            </div>
                                            <div class="item">
                                                <img src="http://placehold.it/450x300 " alt="best-properties">
                                            </div>
                                            <div class="item active">
                                                <iframe class="modalIframe" src="https://www.youtube.com/embed/5e0LxrLSzok" allowfullscreen></iframe>
                                            </div>
                                        </div>
    
                                        <a class="control control-prev" href="#properties-carousel" role="button" data-slide="prev">
                                            <i class="fa fa-angle-left"></i>
                                        </a>
                                        <a class="control control-next" href="#properties-carousel" role="button" data-slide="next">
                                            <i class="fa fa-angle-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div> -->
<script>
    var PropertyLocations = <%-JSON.stringify(PropertyLocations)%>;
    var GalleryImage = <%-JSON.stringify(GalleryImage)%>;
    var UnitTableData = <%-JSON.stringify(UnitTableData)%>;
    var favoriteData = <%-JSON.stringify(favoriteData)%>;
    var UnitIdentifier = <%-JSON.stringify(UnitIdentifier)%>;
    var query = <%- JSON.stringify(query) %>;
    //console.log('favoriteData==',favoriteData)
    $('#Type').trigger('change');
    if (<%-JSON.stringify(recommemdedTab)%> == 0) {
        $('.filtr-button[data-filter=2]').hide();
    }
</script>