SELECT p.*, ST_AsText(pl."Location") as Geometry, a."Name", ca."Area", c."Name" as city, pu."NumberofBeds", pu."NumberofBath" ,st."URL",pd."ProjectStatusID", pd."East", pd."West", pd."North",pd."South" FROM "Properties" p LEFT JOIN "PropertyDetails" pd ON p."ID" = pd."PropertyID" LEFT JOIN "Agents" a on p."AgentID" = a."ID" LEFT JOIN "CityArea" ca ON p."AreaID" = ca."ID" LEFT JOIN "Cities" c ON p."CityID" = c."ID" LEFT JOIN "PropertyUnitDetails" pu ON p."ID" = pu."PropertyID" LEFT JOIN "PropertyLocations" pl ON p."ID" = pl."PropertyID"  JOIN "SEOTags" st ON  st."PropertyID"= p."ID"  WHERE p."PropertyStatusID" = 3 AND p."TotalPrice" >= 20000 AND p."TotalPrice" <= 200000000 AND p."ResaleProperty" IN(true,false)  AND p."PropertyTypeID" = 1AND p."ID" IN (SELECT "PropertyID" FROM "SEOTags") GROUP BY p."ID",a."Name",ca."Area", c."Name", pu."NumberofBeds", pu."NumberofBath", pl."Location" ,pd."ProjectStatusID",pd."East", pd."West", pd."North", pd."South",st."URL"





SELECT p.*, ST_AsText(pl."Location") as Geometry, a."Name", ca."Area", c."Name" as city, pu."NumberofBeds", pu."NumberofBath" ,st."URL",pd."ProjectStatusID", pd."East", pd."West", pd."North",pd."South" FROM "Properties" p LEFT JOIN "PropertyDetails" pd ON p."ID" = pd."PropertyID" LEFT JOIN "Agents" a on p."AgentID" = a."ID" LEFT JOIN "CityArea" ca ON p."AreaID" = ca."ID" LEFT JOIN "Cities" c ON p."CityID" = c."ID" LEFT JOIN "PropertyUnitDetails" pu ON p."ID" = pu."PropertyID" LEFT JOIN "PropertyLocations" pl ON p."ID" = pl."PropertyID"  JOIN "SEOTags" st ON  st."PropertyID"= p."ID"  WHERE p."PropertyStatusID" = 3 AND p."AreaID" = 1518  AND p."PropertyTypeID" = 1AND p."ID" IN (SELECT "PropertyID" FROM "SEOTags") GROUP BY p."ID",a."Name",ca."Area", c."Name",pu."NumberofBeds", pu."NumberofBath", pl."Location" ,pd."ProjectStatusID",pd."East", pd."West", pd."North", pd."South",st."URL"
